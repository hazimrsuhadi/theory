<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎼 Music Analysis Reference Sheet</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .controls {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
        }

        .search-container {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .search-input {
            flex: 1;
            min-width: 250px;
            padding: 12px 20px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.2);
        }

        .clear-btn {
            padding: 12px 25px;
            background: #e74c3c;
            color: white;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .clear-btn:hover {
            background: #c0392b;
            transform: translateY(-2px);
        }

        .category-filters {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .learning-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }

        .difficulty-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .difficulty-selector label {
            font-weight: 600;
            color: #2c3e50;
        }

        .difficulty-selector select {
            padding: 8px 15px;
            border: 2px solid #bdc3c7;
            border-radius: 10px;
            background: white;
            font-size: 14px;
        }

        .mode-selector {
            display: flex;
            gap: 10px;
        }

        .mode-btn {
            padding: 8px 15px;
            background: #ecf0f1;
            border: 2px solid #bdc3c7;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .mode-btn:hover {
            background: #d5dbdb;
        }

        .mode-btn.active {
            background: #e67e22;
            color: white;
            border-color: #e67e22;
        }

        .category-btn {
            padding: 10px 20px;
            background: #ecf0f1;
            border: 2px solid #bdc3c7;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            font-weight: 500;
        }

        .category-btn:hover {
            background: #d5dbdb;
            transform: translateY(-2px);
        }

        .category-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .content {
            padding: 30px;
        }

        .category-section {
            margin-bottom: 40px;
            opacity: 1;
            transition: all 0.3s ease;
        }

        .category-section.hidden {
            display: none;
        }

        .category-title {
            font-size: 2em;
            margin-bottom: 20px;
            color: #2c3e50;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .terms-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
        }

        .term-card {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            cursor: pointer;
        }

        .term-card.quiz-mode {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
        }

        .term-card.simple-mode .term-meaning {
            font-size: 1.2em;
            font-weight: 500;
        }

        .term-card .difficulty-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: bold;
            text-transform: uppercase;
        }

        .difficulty-badge.beginner {
            background: #2ecc71;
            color: white;
        }

        .difficulty-badge.intermediate {
            background: #f39c12;
            color: white;
        }

        .difficulty-badge.advanced {
            background: #e74c3c;
            color: white;
        }

        .term-simple {
            font-size: 0.95em;
            color: #27ae60;
            font-style: italic;
            margin-top: 8px;
            display: none;
        }

        .simple-mode .term-simple {
            display: block;
        }

        .quiz-answer {
            display: none;
            margin-top: 15px;
        }

        .quiz-mode .term-meaning {
            display: none;
        }

        .quiz-mode .quiz-answer {
            display: block;
        }

        .quiz-reveal-btn {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            margin-top: 10px;
        }

        .quiz-reveal-btn:hover {
            background: #2980b9;
        }

        .pronunciation {
            color: #8e44ad;
            font-size: 0.9em;
            font-style: italic;
            margin-top: 5px;
        }

        .audio-btn {
            background: none;
            border: none;
            color: #8e44ad;
            cursor: pointer;
            font-size: 16px;
            margin-left: 10px;
            padding: 5px;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .audio-btn:hover {
            background: #8e44ad;
            color: white;
        }

        .term-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 4px;
            height: 100%;
            background: #667eea;
            transition: width 0.3s ease;
        }

        .term-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            border-color: #667eea;
        }

        .term-card:hover::before {
            width: 8px;
        }

        .term-name {
            font-size: 1.4em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .term-meaning {
            color: #555;
            font-size: 1.1em;
            line-height: 1.5;
        }

        .no-results {
            text-align: center;
            padding: 60px 20px;
            color: #7f8c8d;
            font-size: 1.2em;
        }

        .no-results.hidden {
            display: none;
        }

        .stats {
            background: #ecf0f1;
            padding: 15px 30px;
            text-align: center;
            font-size: 1.1em;
            color: #34495e;
            border-top: 1px solid #bdc3c7;
        }

        @media (max-width: 768px) {
            body {
                padding: 5px;
            }

            .container {
                border-radius: 8px;
            }

            .header {
                padding: 15px;
                text-align: center;
            }

            .header h1 {
                font-size: 1.6em;
                margin-bottom: 8px;
            }

            .header p {
                font-size: 0.85em;
                margin-bottom: 10px;
            }
            
            .search-container {
                flex-direction: column;
                gap: 8px;
                margin-bottom: 12px;
            }
            
            .search-input {
                font-size: 0.9rem;
                padding: 8px 12px;
            }
            
            .learning-options {
                flex-direction: column;
                align-items: stretch;
                gap: 12px;
            }
            
            .mode-selector {
                flex-direction: row;
                gap: 6px;
                justify-content: center;
            }
            
            .mode-btn {
                flex: 1;
                text-align: center;
                font-size: 0.8rem;
                padding: 6px 8px;
                border-radius: 6px;
            }
            
            .category-filters {
                justify-content: center;
                gap: 4px;
                flex-wrap: wrap;
            }
            
            .category-btn {
                font-size: 0.75rem;
                padding: 4px 8px;
                border-radius: 12px;
                margin: 2px;
            }
            
            .terms-grid {
                grid-template-columns: 1fr;
                gap: 8px;
            }
            
            .term-card {
                padding: 10px;
                border-radius: 6px;
                box-shadow: 0 1px 2px rgba(0,0,0,0.1);
                background: #fefefe;
                border-left: 3px solid #e0e0e0;
                position: relative;
            }
            
            .term-card[data-difficulty="beginner"] {
                border-left-color: #28a745;
            }
            
            .term-card[data-difficulty="intermediate"] {
                border-left-color: #ffc107;
            }
            
            .term-card[data-difficulty="advanced"] {
                border-left-color: #dc3545;
            }
            
            .controls {
                padding: 12px 10px;
            }
            
            .content {
                padding: 10px;
            }

            .term-name {
                font-size: 1rem;
                font-weight: 600;
                margin-bottom: 4px;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }

            .term-meaning {
                font-size: 0.85rem;
                margin-bottom: 3px;
                color: #444;
                line-height: 1.3;
            }
            
            .term-simple {
                font-size: 0.8rem;
                color: #666;
                line-height: 1.2;
                margin-bottom: 6px;
            }
            
            .difficulty-badge {
                font-size: 0.65rem;
                padding: 2px 5px;
                border-radius: 8px;
                margin-bottom: 4px;
                position: absolute;
                top: 8px;
                right: 8px;
            }
            
            .audio-btn {
                font-size: 0.7rem;
                padding: 2px 4px;
                margin-left: 6px;
                border-radius: 3px;
            }
            
            .quiz-reveal-btn {
                font-size: 0.7rem;
                padding: 3px 6px;
                border-radius: 4px;
                background: #e8f4fd;
                border: 1px solid #4a90e2;
                color: #4a90e2;
            }
            
            .answer-text {
                font-size: 0.75rem;
                padding: 4px 6px;
                margin-top: 4px;
                background: #f0f8ff;
                border-radius: 3px;
                border-left: 2px solid #4a90e2;
                line-height: 1.2;
            }
            
            .category-title {
                font-size: 1.1rem;
                margin-bottom: 8px;
                text-align: center;
                padding: 6px;
                background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
                border-radius: 6px;
                color: #333;
            }
            
            .category-section {
                margin-bottom: 15px;
                border: 1px solid #e0e0e0;
                border-radius: 6px;
                padding: 8px;
                background: #fafafa;
            }
            
            .stats {
                font-size: 0.75rem;
                text-align: center;
                padding: 6px;
                background: #f8f9fa;
                border-radius: 4px;
                margin: 8px 0;
            }
            
            .difficulty-selector {
                flex-direction: row;
                align-items: center;
                gap: 8px;
                justify-content: center;
            }

            .difficulty-selector select {
                text-align: center;
                font-size: 0.8rem;
                padding: 4px 8px;
                border-radius: 4px;
            }
            
            .difficulty-selector label {
                font-size: 0.8rem;
                font-weight: 500;
            }
            
            /* Hide pronunciation guides on mobile to save space */
            .pronunciation {
                display: none;
            }
            
            /* More compact quiz mode */
            .term-card.quiz-mode {
                min-height: auto;
                padding: 8px;
            }
            
            .term-card.quiz-mode .term-meaning,
            .term-card.quiz-mode .term-simple {
                display: none;
            }
        }

        .highlight {
            background-color: #fff3cd;
            padding: 2px 4px;
            border-radius: 3px;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎼 Music Analysis Reference Sheet</h1>
            <p>Descriptors for Melody, Harmony, Rhythm, Texture, Form, Timbre, and Dynamics</p>
        </div>

        <div class="controls">
            <div class="search-container">
                <input type="text" class="search-input" placeholder="Search musical terms..." id="searchInput">
                <button class="clear-btn" id="clearBtn">Clear</button>
            </div>
            
            <div class="learning-options">
                <div class="difficulty-selector">
                    <label>Difficulty Level:</label>
                    <select id="difficultySelect">
                        <option value="all">All Levels</option>
                        <option value="beginner">Beginner (K-5)</option>
                        <option value="intermediate">Intermediate (6-8)</option>
                        <option value="advanced">Advanced (9-12)</option>
                    </select>
                </div>
                <div class="mode-selector">
                    <button class="mode-btn active" data-mode="study">📚 Study Mode</button>
                    <button class="mode-btn" data-mode="quiz">🎯 Quiz Mode</button>
                    <button class="mode-btn" data-mode="simple">📖 Simple Mode</button>
                </div>
            </div>
            
            <div class="category-filters">
                <button class="category-btn active" data-category="all">All Categories</button>
                <button class="category-btn" data-category="melody">🎵 Melody</button>
                <button class="category-btn" data-category="harmony">🎼 Harmony</button>
                <button class="category-btn" data-category="rhythm">🥁 Rhythm</button>
                <button class="category-btn" data-category="texture">🎶 Texture</button>
                <button class="category-btn" data-category="form">🧩 Form</button>
                <button class="category-btn" data-category="timbre">🎨 Timbre</button>
                <button class="category-btn" data-category="dynamics">📣 Dynamics & Articulation</button>
            </div>
        </div>

        <div class="content">
            <div class="category-section" data-category="melody">
                <h2 class="category-title">🎵 Melody</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="cantabile" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Cantabile
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/kɑnˈtɑbɪleɪ/</div>
                        <div class="term-meaning">Singing style; smooth and lyrical</div>
                        <div class="term-simple">Music that sounds like someone singing - smooth and pretty</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Singing style; smooth and lyrical</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="angular" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Angular
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Large leaps; jagged contour</div>
                        <div class="term-simple">Music that jumps around a lot - not smooth</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Large leaps; jagged contour</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="conjunct" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Conjunct
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Stepwise motion</div>
                        <div class="term-simple">Notes that go up or down step by step, like walking up stairs</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Stepwise motion</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="disjunct" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Disjunct
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Leaps between notes</div>
                        <div class="term-simple">Music that jumps far between notes, like leaping over steps</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Leaps between notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="ornamented" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Ornamented
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Includes trills, grace notes</div>
                        <div class="term-simple">Music with fancy decorations added to the main melody</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Includes trills, grace notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="motivic" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Motivic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Built from short repeating ideas</div>
                        <div class="term-simple">Music made from small pieces that repeat, like a pattern</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Built from short repeating ideas</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="imitative" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Imitative
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Echoed by another voice</div>
                        <div class="term-simple">One voice copies what another voice just sang or played</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Echoed by another voice</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="sequential" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Sequential
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Motive repeated at different pitches</div>
                        <div class="term-simple">A musical pattern that repeats getting higher or lower each time</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Motive repeated at different pitches</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="melismatic" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Melismatic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌmelɪzˈmætɪk/</div>
                        <div class="term-meaning">Multiple notes per syllable (vocal)</div>
                        <div class="term-simple">Singing many different notes on just one word, like "Ahhhh" going up and down</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Multiple notes per syllable (vocal)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="syllabic" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Syllabic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">One note per syllable</div>
                        <div class="term-simple">Each word part gets its own musical note, like "Hap-py Birth-day"</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">One note per syllable</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="scalar" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Scalar
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Based on scales</div>
                        <div class="term-simple">Music that follows scale patterns like Do-Re-Mi-Fa-Sol</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Based on scales</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="decorative" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Decorative
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Elaborate, virtuosic gestures</div>
                        <div class="term-simple">Fancy musical decorations that show off skill, like musical jewelry</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Elaborate, virtuosic gestures</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="folk-like" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Folk-like
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Simple, modal or pentatonic</div>
                        <div class="term-simple">Music that sounds like old traditional songs people sing together</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Simple, modal or pentatonic</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="fragmented" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Fragmented
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Broken into short phrases</div>
                        <div class="term-simple">Music that sounds choppy, like broken pieces instead of long flowing lines</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Broken into short phrases</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="expansive" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Expansive
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Broad, sweeping melodic shape</div>
                        <div class="term-simple">Music with long, flowing melodies that cover a wide range of notes</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Broad, sweeping melodic shape</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="speech-like" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Speech-like
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Rhythm and pitch suggest spoken cadence (e.g. recitative)</div>
                        <div class="term-simple">Melody that sounds like someone talking, with natural ups and downs</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Rhythm and pitch suggest spoken cadence (e.g. recitative)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="thematic-vs-episodic" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Thematic vs. Episodic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Central theme vs. decorative material</div>
                        <div class="term-simple">Music based on a main idea versus music with lots of connecting or decorative parts</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Central theme vs. decorative material</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="sequential-development" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Sequential Development
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Motives evolve across keys or registers</div>
                        <div class="term-simple">A musical idea is repeated at different pitch levels, developing the melody</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Motives evolve across keys or registers</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="monotone" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Monotone
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Repeated or sustained single pitch</div>
                        <div class="term-simple">A melody that stays on the same note</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Repeated or sustained single pitch</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="contour" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Contour
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Shape of the melody (rising, falling, arch-like)</div>
                        <div class="term-simple">The shape of the melody as it goes up and down</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Shape of the melody (rising, falling, arch-like)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="wide-narrow-range" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Wide/Narrow Range
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Distance between highest and lowest notes</div>
                        <div class="term-simple">Whether the melody uses a lot of high and low notes, or stays in a small area</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Distance between highest and lowest notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="lyrical-vs-instrumental" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Lyrical vs. Instrumental
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Singable vs. non-vocal character</div>
                        <div class="term-simple">A melody that is easy to sing versus one that is better for an instrument</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Singable vs. non-vocal character</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="phrase" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Phrase
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">A musical sentence, usually 2-8 measures</div>
                        <div class="term-simple">A complete musical thought, like a sentence in music</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">A musical sentence, usually 2-8 measures</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="ascending-descending" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Ascending/Descending
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Moving upward/downward in pitch</div>
                        <div class="term-simple">Going up high like climbing stairs or going down low like going downstairs</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Moving upward/downward in pitch</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="melodic-interval" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Melodic Interval
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Distance between two consecutive notes</div>
                        <div class="term-simple">How far apart two notes are when played one after the other</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Distance between two consecutive notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="pentatonic" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Pentatonic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌpentəˈtɒnɪk/</div>
                        <div class="term-meaning">Based on a five-note scale</div>
                        <div class="term-simple">Music using only five different notes, like the black keys on a piano</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Based on a five-note scale</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-section" data-category="harmony">
                <h2 class="category-title">🎼 Harmony</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="diatonic" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Diatonic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌdaɪəˈtɒnɪk/</div>
                        <div class="term-meaning">Based on major/minor scale</div>
                        <div class="term-simple">Music that uses only the regular notes of a major or minor scale</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Based on major/minor scale</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="chromatic" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Chromatic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/krəˈmætɪk/</div>
                        <div class="term-meaning">Includes outside-key tones</div>
                        <div class="term-simple">Music that uses all the black and white keys, including sharps and flats</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Includes outside-key tones</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="modal" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Modal
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Based on church modes</div>
                        <div class="term-simple">Music based on old scales used in medieval times, sounds ancient or mysterious</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Based on church modes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="consonant" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Consonant
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Stable, pleasant intervals</div>
                        <div class="term-simple">Notes that sound nice and peaceful together, like they belong</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Stable, pleasant intervals</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="dissonant" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Dissonant
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Tension-filled, harsh intervals</div>
                        <div class="term-simple">Notes that sound clashing or uncomfortable together, need to resolve</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Tension-filled, harsh intervals</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="functional" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Functional
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Clear tonal roles (tonic, dominant)</div>
                        <div class="term-simple">Chords that have specific jobs, like home base and away from home</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Clear tonal roles (tonic, dominant)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="non-functional" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Non-functional
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Avoids traditional harmonic roles</div>
                        <div class="term-simple">Chords that don't follow the usual rules of home and away</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Avoids traditional harmonic roles</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="tonal" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Tonal
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Has a central key</div>
                        <div class="term-simple">Music that has a home note or key that feels like the center</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Has a central key</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="atonal" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Atonal
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">No tonal center</div>
                        <div class="term-simple">Music with no home note - all notes seem equally important</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">No tonal center</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="extended-harmony" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Extended Harmony
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Includes 7ths, 9ths, etc.</div>
                        <div class="term-simple">Chords with extra notes added to make them sound jazzy or colorful</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Includes 7ths, 9ths, etc.</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="quartal-quintal" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Quartal/Quintal
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Built on 4ths/5ths</div>
                        <div class="term-simple">Chords built by stacking 4th and 5th intervals instead of 3rds</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Built on 4ths/5ths</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="clustered" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Clustered
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Notes grouped tightly together</div>
                        <div class="term-simple">Many notes played very close together, like pressing many piano keys at once</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Notes grouped tightly together</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="cadential" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Cadential
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Uses cadences to define phrases</div>
                        <div class="term-simple">Music that uses special chord patterns to show where phrases end</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Uses cadences to define phrases</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="major" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Major
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Bright, happy sounding harmony</div>
                        <div class="term-simple">Chords and scales that sound happy and bright</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Bright, happy sounding harmony</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="minor" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Minor
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Dark, sad sounding harmony</div>
                        <div class="term-simple">Chords and scales that sound sad or mysterious</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Dark, sad sounding harmony</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="harmonic-interval" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Harmonic Interval
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Distance between two notes played simultaneously</div>
                        <div class="term-simple">How far apart two notes are when played at the same time</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Distance between two notes played simultaneously</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="resolution" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Resolution
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Movement from tension to rest</div>
                        <div class="term-simple">When uncomfortable sounds move to comfortable, peaceful sounds</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Movement from tension to rest</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="suspension" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Suspension
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">A dissonance that resolves downward by step</div>
                        <div class="term-simple">A note that doesn't belong, creating tension until it moves down to fit</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">A dissonance that resolves downward by step</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-section" data-category="rhythm">
                <h2 class="category-title">🥁 Rhythm</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="syncopated" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Syncopated
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Emphasis off the beat</div>
                        <div class="term-simple">Rhythm that accents the weak beats, making it feel unexpected</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Emphasis off the beat</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="straight" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Straight
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Regular, on-the-beat rhythms</div>
                        <div class="term-simple">Steady rhythm that follows the beat exactly, like marching</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Regular, on-the-beat rhythms</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="swing" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Swing
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Uneven beat divisions (often in jazz)</div>
                        <div class="term-simple">Rhythm that bounces like "long-short, long-short" in jazz music</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Uneven beat divisions (often in jazz)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="triplet-based" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Triplet-based
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Three notes per beat</div>
                        <div class="term-simple">Rhythm that groups notes in threes, like "tri-plet, tri-plet"</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Three notes per beat</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="dotted-rhythms" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Dotted rhythms
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Adds unevenness through dotted notes</div>
                        <div class="term-simple">Rhythm with long-short patterns, like "BUM-ba, BUM-ba"</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Adds unevenness through dotted notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="regular-meter" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Regular meter
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Standard time signatures (4/4, 3/4)</div>
                        <div class="term-simple">Common beat patterns like "1-2-3-4" or "1-2-3" that repeat</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Standard time signatures (4/4, 3/4)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="irregular-meter" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Irregular meter
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Unusual time signatures (5/8, 7/8)</div>
                        <div class="term-simple">Beat patterns that don't fit the usual groups, like counting 5 or 7</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Unusual time signatures (5/8, 7/8)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="polyrhythm" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Polyrhythm
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Multiple rhythms at once</div>
                        <div class="term-simple">Different rhythm patterns played at the same time, like clapping and tapping different beats</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Multiple rhythms at once</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="augmentation" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Augmentation
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Rhythms are lengthened</div>
                        <div class="term-simple">Taking a rhythm pattern and making all the notes twice as long</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Rhythms are lengthened</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="diminution" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Diminution
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Rhythms are shortened</div>
                        <div class="term-simple">Taking a rhythm pattern and making all the notes twice as fast</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Rhythms are shortened</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="rubato" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Rubato
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ruˈbɑtoʊ/</div>
                        <div class="term-meaning">Flexible tempo for expression</div>
                        <div class="term-simple">Speeding up and slowing down for emotion, like speaking with feeling</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Flexible tempo for expression</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="ostinato" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Ostinato
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌɒstɪˈnɑːtoʊ/</div>
                        <div class="term-meaning">A repeating rhythmic or melodic pattern</div>
                        <div class="term-simple">A short musical idea that repeats over and over again</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">A repeating rhythmic or melodic pattern</div>
                        </div>
                    </div>
                     <div class="term-card" data-term="driving" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Driving
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Strong, forward-moving pulse</div>
                        <div class="term-simple">Rhythm that pushes the music forward with a lot of energy</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Strong, forward-moving pulse</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="lilting" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Lilting
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Light, graceful, often in 6/8</div>
                        <div class="term-simple">A light, bouncy rhythm that feels like skipping or dancing</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Light, graceful, often in 6/8</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="free-rhythm" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Free Rhythm
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">No discernible beat or meter</div>
                        <div class="term-simple">Music without a steady beat, flowing freely like speech</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">No discernible beat or meter</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="tempo" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Tempo
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Speed of the music</div>
                        <div class="term-simple">How fast or slow the music goes</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Speed of the music</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="accelerando" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Accelerando
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/əkˌseləˈrɑndoʊ/</div>
                        <div class="term-meaning">Gradually getting faster</div>
                        <div class="term-simple">The music slowly speeds up, like a car accelerating</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Gradually getting faster</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="ritardando" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Ritardando
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌritɑrˈdɑndoʊ/</div>
                        <div class="term-meaning">Gradually getting slower</div>
                        <div class="term-simple">The music slowly slows down, like a car braking</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Gradually getting slower</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="hemiola" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Hemiola
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/hɛmiˈoʊlə/</div>
                        <div class="term-meaning">Rhythmic shift from 3 beats to 2 beats or vice versa</div>
                        <div class="term-simple">When the rhythm tricks you by switching between groups of 2 and 3</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Rhythmic shift from 3 beats to 2 beats or vice versa</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-section" data-category="texture">
                <h2 class="category-title">🎶 Texture</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="monophonic" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Monophonic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌmɒnəˈfɒnɪk/</div>
                        <div class="term-meaning">Single melodic line</div>
                        <div class="term-simple">One single melody with no harmony, like one person singing alone</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Single melodic line</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="homophonic" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Homophonic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌhɒməˈfɒnɪk/</div>
                        <div class="term-meaning">Melody with chordal accompaniment</div>
                        <div class="term-simple">One main melody with chords supporting it, like a singer with a guitar</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Melody with chordal accompaniment</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="polyphonic" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Polyphonic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌpɒliˈfɒnɪk/</div>
                        <div class="term-meaning">Multiple independent melodies</div>
                        <div class="term-simple">Many different melodies playing at the same time, like in a round</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Multiple independent melodies</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="heterophonic" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Heterophonic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˌhɛtərəˈfɒnɪk/</div>
                        <div class="term-meaning">Simultaneous variation of a single melody</div>
                        <div class="term-simple">One melody played by multiple people at the same time, but with slight differences</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Simultaneous variation of a single melody</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="dense" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Dense
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Many layers of sound</div>
                        <div class="term-simple">Music with a lot of different parts happening at once, sounds thick</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Many layers of sound</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="sparse" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Sparse
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Few layers of sound</div>
                        <div class="term-simple">Music with only a few sounds happening, feels open and thin</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Few layers of sound</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="antiphonal" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Antiphonal
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ænˈtɪfənəl/</div>
                        <div class="term-meaning">Call and response between groups</div>
                        <div class="term-simple">Two groups taking turns singing or playing, like a musical conversation</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Call and response between groups</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="layered" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Layered
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Multiple musical parts built up gradually</div>
                        <div class="term-simple">Music that adds more and more parts on top of each other, like building blocks</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Multiple musical parts built up gradually</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-section" data-category="form">
                 <h2 class="category-title">🧩 Form</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="binary" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Binary (AB)
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Two contrasting sections</div>
                        <div class="term-simple">A song with two different parts, like a verse and a chorus</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Two contrasting sections</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="ternary" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Ternary (ABA)
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Three sections, first repeats</div>
                        <div class="term-simple">A song with three parts, where the first part comes back at the end</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Three sections, first repeats</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="rondo" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Rondo (ABACA)
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Main theme alternates with contrasting sections</div>
                        <div class="term-simple">A song where the main part keeps returning between new, different parts</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Main theme alternates with contrasting sections</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="sonata-form" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Sonata Form
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Exposition, Development, Recapitulation</div>
                        <div class="term-simple">A complex form with three main sections: introducing themes, developing them, and bringing them back</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Exposition, Development, Recapitulation</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="theme-and-variations" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Theme and Variations
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">A theme is repeated with changes</div>
                        <div class="term-simple">A song where a main idea is played, and then repeated many times but differently each time</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">A theme is repeated with changes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="strophic" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Strophic
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Same music for each verse (AAA)</div>
                        <div class="term-simple">A song where every verse has the same music, like 'Twinkle, Twinkle, Little Star'</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Same music for each verse (AAA)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="through-composed" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Through-composed
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">New music for each section (ABCDE...)</div>
                        <div class="term-simple">A song where the music is always new and doesn't repeat</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">New music for each section (ABCDE...)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="verse-chorus" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Verse-Chorus
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Alternating verses and repeated chorus</div>
                        <div class="term-simple">A song that goes back and forth between verses (tell the story) and chorus (sing-along part)</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Alternating verses and repeated chorus</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="bridge" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Bridge
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Contrasting section that connects or provides variety</div>
                        <div class="term-simple">A different musical section that connects parts of a song or adds contrast</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Contrasting section that connects or provides variety</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="coda" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Coda
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="pronunciation">/ˈkoʊdə/</div>
                        <div class="term-meaning">Concluding section</div>
                        <div class="term-simple">The ending part of a song, like a musical "goodbye"</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Concluding section</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="intro" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Introduction
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Opening section of a piece</div>
                        <div class="term-simple">The beginning part that gets the music started</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Opening section of a piece</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="category-section" data-category="timbre">
                <h2 class="category-title">🎨 Timbre</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="bright" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Bright
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Clear, brilliant, high frequencies</div>
                        <div class="term-simple">A sound that is clear and shiny, like a trumpet or a bell</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Clear, brilliant, high frequencies</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="dark" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Dark
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Mellow, rich, low frequencies</div>
                        <div class="term-simple">A sound that is deep and warm, like a cello or a French horn</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Mellow, rich, low frequencies</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="warm" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Warm
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Pleasant, full-bodied, resonant</div>
                        <div class="term-simple">A sound that feels cozy and full, like a viola or a classical guitar</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Pleasant, full-bodied, resonant</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="harsh" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Harsh
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Grating, strident, piercing</div>
                        <div class="term-simple">A sound that is rough and sometimes unpleasant, like an electric guitar with distortion</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Grating, strident, piercing</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="reedy" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Reedy
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Nasal, buzzing quality (oboe, clarinet)</div>
                        <div class="term-simple">The buzzy, slightly nasal sound of instruments like the oboe or saxophone</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Nasal, buzzing quality (oboe, clarinet)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="brassy" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Brassy
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Bold, metallic sound of brass instruments</div>
                        <div class="term-simple">The loud, bold, metallic sound of instruments like trumpets and trombones</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Bold, metallic sound of brass instruments</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="ethereal" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Ethereal
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Light, airy, otherworldly</div>
                        <div class="term-simple">A sound that is very light and delicate, almost magical, like a flute or harp</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Light, airy, otherworldly</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="rich" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Rich
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Full, complex harmonic content</div>
                        <div class="term-simple">A sound with lots of layers and depth, like a full orchestra</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Full, complex harmonic content</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="thin" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Thin
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Lacking depth or fullness</div>
                        <div class="term-simple">A sound that feels weak or empty, like a single whistle</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Lacking depth or fullness</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="mellow" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Mellow
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Smooth, soft, gentle tone</div>
                        <div class="term-simple">A sound that is smooth and gentle, like a soft saxophone</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Smooth, soft, gentle tone</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="percussive" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Percussive
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Sharp, struck quality</div>
                        <div class="term-simple">Sounds that are like hitting or striking, like piano or xylophone</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Sharp, struck quality</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="resonant" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Resonant
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Rich in harmonics, vibrant</div>
                        <div class="term-simple">A sound that rings out clearly and strongly, with lots of natural echo</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Rich in harmonics, vibrant</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="category-section" data-category="dynamics">
                <h2 class="category-title">📣 Dynamics & Articulation</h2>
                <div class="terms-grid">
                    <div class="term-card" data-term="crescendo" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Crescendo
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Gradually getting louder</div>
                        <div class="term-simple">The music slowly gets louder and more powerful</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Gradually getting louder</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="diminuendo" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Diminuendo/Decrescendo
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Gradually getting softer</div>
                        <div class="term-simple">The music slowly gets quieter and fades away</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Gradually getting softer</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="terraced-dynamics" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Terraced Dynamics
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Sudden shifts in volume (Baroque)</div>
                        <div class="term-simple">Jumping suddenly from loud to soft instead of gradually changing</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Sudden shifts in volume (Baroque)</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="sforzando" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Sforzando (sfz)
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Sudden, sharp accent</div>
                        <div class="term-simple">A sudden, strong accent on a single note or chord, like a surprise</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Sudden, sharp accent</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="staccato" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Staccato
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Short, detached notes</div>
                        <div class="term-simple">Playing notes short and choppy, like little dots of sound</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Short, detached notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="legato" data-difficulty="beginner">
                        <div class="difficulty-badge beginner">K-5</div>
                        <div class="term-name">
                            Legato
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Smooth, connected notes</div>
                        <div class="term-simple">Playing notes smoothly connected to each other, like a flowing line</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Smooth, connected notes</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="accent" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Accent
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Emphasis on a particular note</div>
                        <div class="term-simple">Playing a note a little louder or with more force than the others around it</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Emphasis on a particular note</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="subito" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Subito
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Suddenly, immediately</div>
                        <div class="term-simple">A sudden change in volume or intensity, like instantly getting loud</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Suddenly, immediately</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="morendo" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Morendo
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Dying away, fading</div>
                        <div class="term-simple">Music that gradually becomes softer and slower until it disappears</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Dying away, fading</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="tenuto" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Tenuto
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Held, sustained</div>
                        <div class="term-simple">Hold the note for its full value, giving it full weight</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Held, sustained</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="marcato" data-difficulty="intermediate">
                        <div class="difficulty-badge intermediate">6-8</div>
                        <div class="term-name">
                            Marcato
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Marked, emphasized</div>
                        <div class="term-simple">Play each note with strong emphasis and clarity</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Marked, emphasized</div>
                        </div>
                    </div>
                    <div class="term-card" data-term="portamento" data-difficulty="advanced">
                        <div class="difficulty-badge advanced">9-12</div>
                        <div class="term-name">
                            Portamento
                            <button class="audio-btn" title="Hear pronunciation">🔊</button>
                        </div>
                        <div class="term-meaning">Sliding between pitches</div>
                        <div class="term-simple">Smoothly gliding from one note to another, like a trombone slide</div>
                        <div class="quiz-answer">
                            <button class="quiz-reveal-btn">Show Answer</button>
                            <div class="answer-text" style="display:none;">Sliding between pitches</div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="no-results hidden">
                <h3>No results found</h3>
                <p>Try adjusting your search terms or selecting a different category.</p>
            </div>
        </div>

        <div class="stats">
            <span id="statsText">Showing all 113 musical terms across 7 categories</span>
        </div>
    </div>

    <script>
        class MusicReferenceApp {
            constructor() {
                this.searchInput = document.getElementById('searchInput');
                this.clearBtn = document.getElementById('clearBtn');
                this.categoryBtns = document.querySelectorAll('.category-btn');
                this.categorySections = document.querySelectorAll('.category-section');
                this.termCards = document.querySelectorAll('.term-card');
                this.noResults = document.querySelector('.no-results');
                this.statsText = document.getElementById('statsText');
                this.difficultySelect = document.getElementById('difficultySelect');
                this.modeBtns = document.querySelectorAll('.mode-btn');

                this.currentCategory = 'all';
                this.currentSearch = '';
                this.currentDifficulty = 'all';
                this.currentMode = 'study';

                this.initEventListeners();
                this.updateStats();
                this.attachDynamicEventListeners();
            }

            initEventListeners() {
                // Search functionality
                this.searchInput.addEventListener('input', (e) => {
                    this.currentSearch = e.target.value.toLowerCase().trim();
                    this.filterContent();
                });

                // Clear button
                this.clearBtn.addEventListener('click', () => {
                    this.searchInput.value = '';
                    this.currentSearch = '';
                    this.filterContent();
                    this.searchInput.focus();
                });

                // Category filters
                this.categoryBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        this.categoryBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.currentCategory = btn.dataset.category;
                        this.filterContent();
                    });
                });

                // Difficulty selector
                this.difficultySelect.addEventListener('change', (e) => {
                    this.currentDifficulty = e.target.value;
                    this.filterContent();
                });

                // Mode selector
                this.modeBtns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        this.modeBtns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        this.currentMode = btn.dataset.mode;
                        this.updateMode();
                        this.filterContent();
                    });
                });

                // Keyboard shortcuts
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'Escape') {
                        this.searchInput.value = '';
                        this.currentSearch = '';
                        this.filterContent();
                    } else if (e.ctrlKey && e.key === 'k') {
                        e.preventDefault();
                        this.searchInput.focus();
                    }
                });
            }

            updateMode() {
                const container = document.querySelector('.container');
                container.className = 'container';
                container.classList.add(`${this.currentMode}-mode`);

                // Update term cards based on mode
                this.termCards.forEach(card => {
                    card.className = 'term-card';
                    if (this.currentMode !== 'study') {
                        card.classList.add(`${this.currentMode}-mode`);
                    }
                });
                // Refresh term cards reference
                this.termCards = document.querySelectorAll('.term-card');
                // Re-attach event listeners
                this.attachDynamicEventListeners();
            }

            filterContent() {
                let visibleSections = 0;
                let visibleTerms = 0;

                this.categorySections.forEach(section => {
                    const category = section.dataset.category;
                    const shouldShowCategory = this.currentCategory === 'all' || this.currentCategory === category;
                    
                    if (!shouldShowCategory) {
                        section.classList.add('hidden');
                        return;
                    }

                    const termCards = section.querySelectorAll('.term-card');
                    let visibleTermsInSection = 0;

                    termCards.forEach(card => {
                        const termName = card.querySelector('.term-name').textContent.toLowerCase();
                        const termMeaning = card.querySelector('.term-meaning').textContent.toLowerCase();
                        const difficulty = card.dataset.difficulty || 'intermediate';
                        
                        const matchesSearch = !this.currentSearch || 
                            termName.includes(this.currentSearch) || 
                            termMeaning.includes(this.currentSearch);
                        
                        const matchesDifficulty = this.currentDifficulty === 'all' || 
                            this.currentDifficulty === difficulty;

                        if (matchesSearch && matchesDifficulty) {
                            card.style.display = 'block';
                            card.style.visibility = 'visible';
                            visibleTermsInSection++;
                            this.highlightSearchTerm(card);
                        } else {
                            card.style.display = 'none';
                            card.style.visibility = 'hidden';
                        }
                    });

                    if (visibleTermsInSection > 0) {
                        section.classList.remove('hidden');
                        visibleSections++;
                        visibleTerms += visibleTermsInSection;
                    } else {
                        section.classList.add('hidden');
                    }
                });

                // Show/hide no results message
                if (visibleTerms === 0) {
                    this.noResults.classList.remove('hidden');
                } else {
                    this.noResults.classList.add('hidden');
                }

                this.updateStats(visibleTerms, visibleSections);
                this.attachDynamicEventListeners();
            }

            // Attach event listeners to audio and quiz buttons after DOM changes
            attachDynamicEventListeners() {
                const replaceAndListen = (selector, eventHandler) => {
                    document.querySelectorAll(selector).forEach(btn => {
                        // Cloning the node is the most reliable way to remove all old event listeners
                        const newBtn = btn.cloneNode(true);
                        btn.parentNode.replaceChild(newBtn, btn);
                        newBtn.addEventListener('click', eventHandler);
                    });
                };

                // Audio buttons
                replaceAndListen('.audio-btn', (e) => {
                    const btn = e.currentTarget;
                    const termNameElement = btn.closest('.term-name');
                    // Extract term from the text node, ignoring the button's own text
                    const term = Array.from(termNameElement.childNodes)
                        .filter(node => node.nodeType === Node.TEXT_NODE)
                        .map(node => node.textContent.trim())
                        .join('') || termNameElement.textContent.trim();
                    window.speakText(term);
                });

                // Quiz reveal buttons
                replaceAndListen('.quiz-reveal-btn', (e) => {
                    window.revealAnswer(e.currentTarget);
                });
            }

            highlightSearchTerm(card) {
                const termNameElement = card.querySelector('.term-name');
                const termMeaningElement = card.querySelector('.term-meaning');
                const audioButton = termNameElement.querySelector('.audio-btn'); // Keep a reference to the button

                if (this.currentSearch) {
                    [termNameElement, termMeaningElement].forEach(element => {
                        // Temporarily remove the button before changing innerHTML
                        const button = element.querySelector('.audio-btn');
                        if (button) element.removeChild(button);

                        const originalText = element.textContent;
                        const regex = new RegExp(`(${this.escapeRegex(this.currentSearch)})`, 'gi');
                        const highlightedText = originalText.replace(regex, '<span class="highlight">$1</span>');
                        element.innerHTML = highlightedText;

                        // Add the button back
                        if (button) element.appendChild(button);
                    });
                } else {
                    // Remove highlights by resetting the text content, then re-adding the button
                    [termNameElement, termMeaningElement].forEach(element => {
                        const button = element.querySelector('.audio-btn');
                        if (button) element.removeChild(button);
                        
                        const text = element.textContent; // Get text without highlight spans
                        element.innerHTML = text; // Reset innerHTML to just the text
                        
                        if (button) element.appendChild(button);
                    });
                }
            }

            escapeRegex(string) {
                return string.replace(/[.*+?^${}()|[\]\\]/g, '\\$&');
            }

            updateStats(visibleTerms = null, visibleSections = null) {
                const totalTerms = this.termCards.length;
                const totalSections = this.categorySections.length;
                
                if (visibleTerms === null) visibleTerms = totalTerms;
                if (visibleSections === null) visibleSections = totalSections;

                let statsMessage;
                if (this.currentSearch || this.currentCategory !== 'all' || this.currentDifficulty !== 'all') {
                    if (visibleTerms === 0) {
                        statsMessage = 'No terms match your criteria';
                    } else {
                        statsMessage = `Showing ${visibleTerms} of ${totalTerms} musical terms`;
                        if (this.currentCategory !== 'all') {
                            const categoryName = document.querySelector(`.category-btn[data-category="${this.currentCategory}"]`).textContent;
                            statsMessage += ` in ${categoryName}`;
                        }
                    }
                } else {
                    statsMessage = `Showing all ${totalTerms} musical terms across ${totalSections} categories`;
                }

                this.statsText.textContent = statsMessage;
            }
        }

        // Supporting functions for new features
        function speakText(text) {
            const trimmedText = text.trim();
            if (!trimmedText) {
                console.error('speakText called with empty string.');
                return;
            }
            
            console.log(`Attempting to speak: "${trimmedText}"`);

            try {
                if ('speechSynthesis' in window) {
                    const synth = window.speechSynthesis;

                    // A more robust way to stop any ongoing speech
                    if (synth.speaking) {
                        console.log('Speech synthesis is currently active, cancelling.');
                        synth.cancel();
                    }

                    // Add a minimal delay to allow the cancel to register, especially on Safari
                    setTimeout(() => {
                        const utterance = new SpeechSynthesisUtterance(trimmedText);
                        utterance.rate = 0.9;
                        utterance.pitch = 1.1;
                        utterance.volume = 1.0;
                        
                        utterance.onstart = () => {
                            console.log(`Speech started for: "${trimmedText}"`);
                        };
                        
                        utterance.onerror = (event) => {
                            console.error('SpeechSynthesisUtterance.onerror', event);
                            // On some browsers (like Safari), cancelling speech fires the onerror event.
                            // We can safely ignore this specific error.
                            if (event.error === 'canceled') {
                                console.log('Speech was cancelled by the user, which is expected.');
                                return;
                            }
                            let errorText = `An error occurred while trying to speak "${trimmedText}".`;
                            if (event.error) {
                                errorText += ` Error type: ${event.error}`;
                            }
                            alert(errorText);
                        };
                        
                        utterance.onend = () => {
                            console.log(`Speech ended for: "${trimmedText}"`);
                        };
                        
                        synth.speak(utterance);
                    }, 50);

                } else {
                    console.log('Speech synthesis not available.');
                    alert(`Speech synthesis is not supported by your browser.`);
                }
            } catch (error) {
                console.error('A critical error occurred in the speakText function:', error);
                alert(`A critical error occurred: ${error.message}`);
            }
        }

        function revealAnswer(button) {
            try {
                const answerText = button.nextElementSibling;
                if (answerText && answerText.style.display === 'none') {
                    answerText.style.display = 'block';
                    button.textContent = 'Hide Answer';
                    button.style.background = '#e74c3c';
                } else if (answerText) {
                    answerText.style.display = 'none';
                    button.textContent = 'Show Answer';
                    button.style.background = '#3498db';
                }
            } catch (error) {
                console.error('Reveal answer error:', error);
            }
        }

        // Make functions globally accessible
        window.speakText = speakText;
        window.revealAnswer = revealAnswer;

        // Initialize the app when the DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            new MusicReferenceApp();
        });
    </script>
</body>
</html>
